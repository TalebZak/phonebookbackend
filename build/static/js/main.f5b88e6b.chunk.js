(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n(15),u=n.n(r),o=n(16),s=n(3),a=n(5),i=n.n(a),j="http://localhost:3001/persons",b=function(){return i.a.get(j).then((function(e){return e.data}))},d=function(e){return i.a.post(j,e).then((function(e){return e.data}))},l=function(e){return i.a.delete("".concat(j,"/").concat(e)).then((function(e){return e.data}))},f=n(0),h=function(e){var t=e.setResult,n=e.persons,r=Object(c.useState)(""),u=Object(s.a)(r,2),o=u[0],a=u[1];return Object(c.useEffect)((function(){return t(n.filter((function(e){return e.name.toLowerCase().includes(o.toLowerCase())||e.number.includes(o)})))}),[o,n]),Object(f.jsx)("div",{children:Object(f.jsx)("input",{value:o,onChange:function(e){e.preventDefault(),a(e.target.value)}})})},O=function(e){var t=e.name,n=e.phoneNum,c=e.id,r=e.persons,u=e.setPersons;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:[" ",t," ",n]}),Object(f.jsx)("button",{onClick:function(){return!!window.confirm("delete".concat(t))&&(l(c).then((function(e){return console.log(e)})),u(r.filter((function(e){return e.id!==c}))),!0)},children:"delete "})]})},p=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],u=Object(c.useState)(""),a=Object(s.a)(u,2),i=a[0],j=a[1],l=Object(c.useState)(""),p=Object(s.a)(l,2),v=p[0],m=p[1],x=Object(c.useState)(n),g=Object(s.a)(x,2),k=g[0],w=g[1];Object(c.useEffect)((function(){b().then((function(e){r(e),w(e)}))}),[]);return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Phonebook"}),Object(f.jsx)(h,{persons:n,setResult:w}),Object(f.jsx)("h3",{children:"add a new"}),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,c=Object(o.a)(n);try{for(c.s();!(t=c.n()).done;){var u=t.value;if(u.name===i||u.number===v)return void alert("This contact is already added to phonebook")}}catch(s){c.e(s)}finally{c.f()}""!==i&&""!==v||alert("A field is still empty"),d({name:i,number:v}).then((function(e){return r(n.concat(e))})),j(""),m("")},children:[Object(f.jsxs)("div",{children:["name: ",Object(f.jsx)("input",{value:i,onChange:function(e){e.preventDefault(),j(e.target.value)}})]}),Object(f.jsxs)("div",{children:["Phone Number: ",Object(f.jsx)("input",{value:v,onChange:function(e){e.preventDefault(),m(e.target.value)}})]}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"submit",children:"add"})})]}),Object(f.jsx)("h2",{children:"Numbers"}),k.map((function(e){return Object(f.jsx)(O,{name:e.name,phoneNum:e.number,id:e.id,setPersons:r,persons:n},e.id)}))]})};u.a.render(Object(f.jsx)(p,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.f5b88e6b.chunk.js.map