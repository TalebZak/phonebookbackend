{"version":3,"sources":["services/PersonService.js","components/Search.js","components/Person.js","App.js","index.js"],"names":["url_base","axios","get","then","res","data","object","post","id","delete","Search","setResult","persons","useState","search","setsearch","useEffect","filter","person","name","toLowerCase","includes","number","value","onChange","event","preventDefault","target","Person","phoneNum","setPersons","onClick","window","confirm","PersonService","r","console","log","App","newName","newNameState","newNum","setnewNum","result","onSubmit","alert","concat","type","map","a","ReactDOM","render","document","getElementById"],"mappings":"yKAEMA,EAAW,gCAeF,EAdA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAYpB,EAVA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAAUM,GACtBH,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAQpB,EANG,SAAAG,GAEd,OADgBP,IAAMQ,OAAN,UAAgBT,EAAhB,YAA4BQ,IAC7BL,MAAK,SAAAC,GAAG,OAAIA,EAAIC,S,OCOpBK,EAnBA,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,UAAUC,EAAa,EAAbA,QACvB,EAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KAYA,OAPAC,qBAAU,kBACNL,EAAUC,EACLK,QAAO,SAAAC,GAAM,OACVA,EAAOC,KAAKC,cAAcC,SAASP,EAAOM,gBAAkBF,EAAOI,OAAOD,SAASP,SAG5F,CAACA,EAAOF,IAEP,8BACG,uBAAOW,MAAOT,EAAQU,SAbR,SAACC,GAClBA,EAAMC,iBACNX,EAAUU,EAAME,OAAOJ,aCmBhBK,EArBA,SAAC,GAA2C,IAA1CT,EAAyC,EAAzCA,KAAKU,EAAoC,EAApCA,SAASrB,EAA2B,EAA3BA,GAAGI,EAAwB,EAAxBA,QAAQkB,EAAgB,EAAhBA,WAatC,OACI,gCACI,kCAAKX,EAAL,IAAYU,KACZ,wBAAQE,QAXA,WACZ,QAAGC,OAAOC,QAAP,gBAAwBd,MAJ3Be,EAAwB1B,GAAIL,MAAK,SAAAgC,GAAC,OAAIC,QAAQC,IAAIF,MAClDL,EAAWlB,EAAQK,QAAO,SAAAC,GAAM,OAAEA,EAAOV,KAAOA,OAKrC,IAQP,yBC0DG8B,EAzEH,WACR,MAA8BzB,mBAAS,IAAvC,mBAAOD,EAAP,KAAgBkB,EAAhB,KACF,EAAgCjB,mBAAS,IAAzC,mBAAO0B,EAAP,KAAgBC,EAAhB,KACA,EAA4B3B,mBAAS,IAArC,mBAAO4B,EAAP,KAAeC,EAAf,KACA,EAA4B7B,mBAASD,GAArC,mBAAO+B,EAAP,KAAehC,EAAf,KACAK,qBAAU,WACHkB,IAAuB/B,MAAK,SAAAE,GACxByB,EAAWzB,GACXM,EAAUN,QAGd,IAgCP,OACI,gCACE,2CACE,cAAC,EAAD,CAAQO,QAASA,EAASD,UAAWA,IACrC,2CACF,uBAAMiC,SA5BM,SAACnB,GACfA,EAAMC,iBADmB,oBAELd,GAFK,IAEzB,IAAI,EAAJ,qBAA4B,CAAC,IAAnBM,EAAkB,QACxB,GAAGA,EAAOC,OAASoB,GAAWrB,EAAOI,SAAWmB,EAE5C,YADAI,MAAM,+CAJW,8BAQV,KAAZN,GAA6B,KAAXE,GACjBI,MAAM,0BAEVX,EADY,CAACf,KAAKoB,EAAQjB,OAAQmB,IACRtC,MAAK,SAAAgC,GAAC,OAAIL,EAAWlB,EAAQkC,OACnDX,OAKJK,EAAa,IACbE,EAAU,KAUR,UACE,yCACQ,uBAAOnB,MAAOgB,EAASf,SAlCpB,SAACC,GAChBA,EAAMC,iBACNc,EAAaf,EAAME,OAAOJ,aAkCpB,iDACkB,uBAAOA,MAAOkB,EAAQjB,SAzChC,SAACC,GACfA,EAAMC,iBACNgB,EAAUjB,EAAME,OAAOJ,aAyCnB,8BACE,wBAAQwB,KAAK,SAAb,sBAGJ,yCACGJ,EAAOK,KAAI,SAAAC,GAAC,OACT,cAAC,EAAD,CAAQ9B,KAAM8B,EAAE9B,KAERU,SAAUoB,EAAE3B,OACZd,GAAIyC,EAAEzC,GACNsB,WAAYA,EACZlB,QAASA,GAJJqC,EAAEzC,WC/D7B0C,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,W","file":"static/js/main.f5b88e6b.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst url_base = 'http://localhost:3001/persons'\nconst getAll = () => {\n    const request = axios.get(url_base)\n    return request.then(res => res.data)\n}\nconst create = object => {\n    const request = axios.post(url_base, object)\n    return request.then(res => res.data)\n}\nconst deleteOne = id =>{\n    const request = axios.delete(`${url_base}/${id}`)\n    return request.then(res => res.data)\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {getAll, create, deleteOne}","import React, { useState, useEffect } from 'react'\nconst Search = ({setResult,persons}) => {\n    const [search, setsearch] = useState('');\n    const changeSearch = (event) => {\n        event.preventDefault()\n        setsearch(event.target.value)\n    }\n    useEffect(() => (\n        setResult(persons\n            .filter(person =>\n                person.name.toLowerCase().includes(search.toLowerCase()) || person.number.includes(search)))\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    ), [search,persons]);\n    return (\n        <div>\n           <input value={search} onChange={changeSearch} />\n        </div>\n    )\n}\nexport default Search","import React from 'react'\nimport PersonService from '../services/PersonService'\n\nconst Person = ({name,phoneNum,id,persons,setPersons}) => {\n    const deletePerson = () =>{\n        PersonService.deleteOne(id).then(r => console.log(r));\n        setPersons(persons.filter(person=>person.id !== id))\n    }\n    const confirm = () => {\n        if(window.confirm(`delete${name}`)){\n            deletePerson()\n            return true\n        }\n        return false\n    }\n\n    return(\n        <div>\n            <p> {name} {phoneNum}</p>\n            <button onClick = {confirm}>delete </button>\n        </div>\n\n    )\n}\nexport default Person","import React, {useState, useEffect} from 'react'\nimport PersonService from './services/PersonService'\nimport Search from './components/Search'\nimport Person from './components/Person'\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n  const [newName, newNameState] = useState('');\n  const [newNum, setnewNum] = useState('');\n  const [result, setResult] = useState(persons);\n  useEffect(() =>  {\n         PersonService.getAll().then(data => {\n             setPersons(data)\n             setResult(data)\n         }\n         )\n      }, []);\n  const changeNum = (event) => {\n      event.preventDefault()\n      setnewNum(event.target.value)\n  }\n  const changeName = (event) => {\n      event.preventDefault()\n      newNameState(event.target.value);\n  }\n  const addPerson = (event) => {\n      event.preventDefault()\n      for(const person of persons){\n          if(person.name === newName || person.number === newNum){\n              alert(`This contact is already added to phonebook`)\n              return\n          }\n      }\n      if(newName === '' || newNum === '')\n          alert(`A field is still empty`)\n      const obj = {name:newName,number: newNum}\n      PersonService.create(obj).then(r => setPersons(persons.concat(\n          r\n          )\n      ))\n\n\n      newNameState('')\n      setnewNum('')\n  };\n\n\n\n  return (\n      <div>\n        <h2>Phonebook</h2>\n          <Search persons={persons} setResult={setResult}/>\n          <h3>add a new</h3>\n        <form onSubmit={addPerson}>\n          <div>\n            name: <input value={newName} onChange={changeName} />\n          </div>\n            <div>\n                Phone Number: <input value={newNum} onChange={changeNum} />\n            </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n        <h2>Numbers</h2>\n          {result.map(a =>\n              <Person name={a.name}\n                      key={a.id}\n                      phoneNum={a.number}\n                      id={a.id}\n                      setPersons={setPersons}\n                      persons={persons}\n              />\n          )\n          }\n      </div>)\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}